<html>
<head>
  <title>Lede</title>
  <link href='http://fonts.googleapis.com/css?family=Andada' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400' rel='stylesheet' type='text/css'>
  <link href='/stylesheets/main.css' media='all' rel='stylesheet' type='text/css'>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> 
  <script src='/javascripts/jquery.jrumble.1.3.js'></script>
  <script type='text/javascript'>

    function showSection(section, evt, offset) {
      $('html, body').animate({
        scrollTop: $(section).offset().top - (offset || 20)
      }, 500);
      evt.preventDefault();
    }

    $(function() {

      // section jump for learn more
      $('a.learn-more').click(function(evt) {
        showSection('#cover-it', evt, 40);
      });

      // section jump for get started
      $('a.get-started').click(function(evt) {
        showSection('#get-started', evt, 150);
        setTimeout(function() {
          $('#email').focus();
        }, 500);
      });

      // validate and submit signup
      $('a.signup').click(function(evt) {
        if($('form input#email').val().length == 0) {
          $('form').addClass('error');
          $('form.error').trigger('startRumble');
          $('form label').html('Please enter an email first.');
          $('form input#email').focus();
          setTimeout(function() {
            $('form.error').trigger('stopRumble');
          }, 300);
        } else {
          console.log('submitting...');
          $('form').removeClass('error');
          $('form label').html('Creating your account...');
          $('form input, form a.button').fadeOut(250, function() {
            $('img#signup-loader').fadeIn();

            // just for testing next step..
            setTimeout(function() {
              $('form label').html('Drag the bookmarklet to your bar and you\'re all set.');
              $('img#signup-loader').fadeOut(250, function() { 
                $('a#install-bookmarklet').fadeIn(250);
                $('img#install-arrow').fadeIn(250);
                $('form').addClass('invisible');
              });
            }, 2000);
          });
        }
        evt.preventDefault();
      });

      // hook up rumbling support for forms for error effect
      $('form').jrumble();

    });
  </script>
</head>
<body>
  <div class='signin-link'>
    <a class='signin' href='login.html'>Log in</a>.
  </div>
  <div class='logo-wrapper'>
    <div class='logo'>
      <div class='mark'>
        <div class='box'></div>
        <div class='line'></div>
        <div class='line'></div>
      </div> 
      <h1> Lede </h1>
    </div>
  </div>

  <div class='land land-section'>
    <div class='tagline'>
      <div class='intro'>
        <h2> We've got you covered. </h2>
        <h3> Following the news you care about is hard. Lede makes it easy. </h3>
        <div class='learn-more'>
          <a class='learn-more button' href='#'>
            Learn How
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class='hero' id='cover-it'>
    <h2> Keep up to date on the stories you care about. </h2> 
    <h3> Reading a story and want to know what happens next? </h3>

    <div class='steps'>
      <div class='step'>
        <img class='step' src='/images/steps/news.png'></img>
        <br/>
        <span class='step-description'> Read a great story </span>
      </div>
      <img class='next-step' src='/images/steps/next_step.png'></img>
      <div class='step'>
        <img class='step' src='/images/steps/watch.png'></img>
        <br/>
        <span class='step-description'> Tell us to cover it </span>
      </div>
      <img class='next-step' src='/images/steps/next_step.png'></img>
      <div class='step'>
        <img class='step' src='/images/steps/email.png'></img>
        <br/>
        <span class='step-description'> Get daily, relevant updates </span>
      </div>
    </div>

    <div class='get-bookmarklet'>
      <a class='button get-started' href='#'> Get Started </a>
    </div>
  </div>


  <div class='hero' id='get-started'>
    <h2> Get the bookmarklet to start covering stories. </h2>
    <h3> The easiest way to follow the stories you care about. </h3>

    <div class='signup'>
      <form id='signup'>
        <label for='email'> Let us know where to send your daily Ledes: </label>
        <input id='email' spellcheck='false'></input>
        <a href='#' class='button signup'> Install Bookmarklet </a>
        <img src='/images/ajax-loader.gif' style='display:none' id='signup-loader'></img>
        <a href='#' id='install-bookmarklet' style='display:none'>
          <img src='/images/bookmark_add.png'></img>
        </a>
      </form>
      <img id='install-arrow' src='/images/install_arrow.png' style='display:none'></img>
    </div>
  </div>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36275380-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>
</html>
